setTimeout(function(){$("#splashscreen").fadeOut("slow");$("#splashscreen").remove();$("#contentPage").hide().css("visibility","visible").fadeIn("slow")},5E3);var toggleAssess=!1;function toggleAssesst(){toggleAssess=toggleAssess?!1:!0}
function enterVR(){$("#contentPage").fadeOut("slow");$("#contentPage").remove();$("#aframeCanvas").hide().css("visibility","visible").fadeIn("slow");$("#popupContainer").css("visibility","visible");setTimeout(function(){$("#popupContainer").css("opacity",1);$("#popupContainer").addClass("animate__animated animate__slideInRight")},100);toggleAssess?assestMode():installEvents()}
function slideOut(a){$(a).removeClass("animate__animated animate__slideInRight");$(a).addClass("animate__animated animate__slideOutRight");$("#blocker").hide();$(".a-canvas").css("filter","initial")}function prevscene(){var a=document.getElementById("skybox").getAttribute("src").split("#")[1];a=parseInt(a.substring(3));0!=a-1&&$("#loc".concat(a-1,"spot")).click()}
function nextscene(){var a=document.getElementById("skybox").getAttribute("src").split("#")[1];a=parseInt(a.substring(3));$("#loc".concat(a+1,"spot"))&&$("#loc".concat(a+1,"spot")).click()}
function checkCamera(a){"#loc10"==a||"#loc12"==a||"#loc13"==a?document.getElementById("skybox").setAttribute("rotation","-6 270 0"):"#loc3"==a?document.getElementById("skybox").setAttribute("rotation","0 90 0"):"#loc4"==a?document.getElementById("skybox").setAttribute("rotation","0 170 0"):"#loc7"==a?document.getElementById("skybox").setAttribute("rotation","0 340 0"):"#loc8"==a?document.getElementById("skybox").setAttribute("rotation","-6 155 0"):"#loc5"==a?document.getElementById("skybox").setAttribute("rotation",
"0 190 0"):"#loc6"==a?document.getElementById("skybox").setAttribute("rotation","0 180 0"):"#loc9"==a?document.getElementById("skybox").setAttribute("rotation","-6 180 0"):"#loc11"==a?document.getElementById("skybox").setAttribute("rotation","-6 180 0"):"#loc14"==a?document.getElementById("skybox").setAttribute("rotation","0 330 0"):"#loc15"==a?document.getElementById("skybox").setAttribute("rotation","-6 330 0"):document.getElementById("skybox").setAttribute("rotation","0 270 0")}var state=!1;
function installEvents(){for(var a=2,e=document.getElementsByClassName("ansOrder"),d=document.getElementsByClassName("clickPlane"),g=document.getElementsByClassName("clickTitle"),h=document.getElementsByClassName("clickBody"),k=document.getElementsByClassName("removePulse"),f={$jscomp$loop$prop$x$7:0};f.$jscomp$loop$prop$x$7<e.length;f={$jscomp$loop$prop$x$7:f.$jscomp$loop$prop$x$7},f.$jscomp$loop$prop$x$7++)e[f.$jscomp$loop$prop$x$7].addEventListener("click",function(b){return function c(){if(state)for(var m=
0;m<e.length;m++)e[m].removeEventListener("click",c);else k[b.$jscomp$loop$prop$x$7].classList.add("invis"),k[b.$jscomp$loop$prop$x$7].setAttribute("visible","false"),e[b.$jscomp$loop$prop$x$7].removeEventListener("click",c),a<=e.length&&($("#dialog".concat(a,"--open-icon")).removeClass("invis"),$("#dialog".concat(a,"--pulse-icon")).removeClass("invis"),a++)}}(f)),d[f.$jscomp$loop$prop$x$7].addEventListener("click",function(b){return function c(){$(e[b.$jscomp$loop$prop$x$7]).click();d[b.$jscomp$loop$prop$x$7].removeEventListener("click",
c)}}(f)),g[f.$jscomp$loop$prop$x$7].addEventListener("click",function(b){return function c(){$(d[b.$jscomp$loop$prop$x$7]).click();g[b.$jscomp$loop$prop$x$7].removeEventListener("click",c)}}(f)),h[f.$jscomp$loop$prop$x$7].addEventListener("click",function(b){return function c(){$(g[b.$jscomp$loop$prop$x$7]).click();h[b.$jscomp$loop$prop$x$7].removeEventListener("click",c)}}(f))}
function assestMode(){var a=1;document.getElementsByClassName("dialogIcon");var e=document.getElementsByClassName("removePulse"),d=document.getElementsByClassName("ansOrder"),g=document.getElementsByClassName("changeIcon"),h=document.getElementsByClassName("clickPlane"),k=document.getElementsByClassName("clickTitle"),f=document.getElementsByClassName("clickBody");if(state){$("#appState").css("visibility","hidden");$(".tooltiptext").text("Click to enter assessment mode!");anime.timeline({loop:!1}).add({targets:"#morphtext",
translateX:[0,-30],opacity:[1,0],easing:"easeInExpo",duration:500,delay:function(c,m){return 100+30*m}}).add({targets:"#morph",width:"64px",x:"171",easing:"easeInOutQuad",duration:"500"});anime({targets:"#topright",opacity:[.5,0],height:"5",easing:"easeInOutQuad",duration:"1000"});anime({targets:"#topleft",opacity:[.5,0],width:"5",easing:"easeInOutQuad",duration:"1000"});anime({targets:"#bottomright",opacity:[.5,0],height:"5",y:"1000",easing:"easeInOutQuad",duration:"1000"});anime({targets:"#bottomleft",
opacity:[.5,0],width:"5",x:"2000",easing:"easeInOutQuad",duration:"1000"});for(e=0;e<d.length;e++){g=d[e].getAttribute("id").split("--")[0];var b=d[e].getAttribute("order");b&&document.getElementById(g.concat("--open-icon")).setAttribute("material","src: assets/question".concat(b,".png"))}state=!1}else{$("#appState").css("visibility","visible");$(".tooltiptext").text("Click to enter freeview mode!");setTimeout(function(){document.getElementById("assessmentContainer");$("#assessmentContainer").css("visibility",
"visible");$("#assessmentContainer").css("opacity",1);$("#assessmentContainer").addClass("animate__animated animate__slideInRight")},100);anime.timeline({loop:!1}).add({targets:"#morph",width:"235px",x:"0",easing:"easeInOutQuad",duration:"500",delay:function(c,m){return 100+30*m}}).add({targets:"#morphtext",translateX:[40,0],translateZ:0,opacity:[0,1],easing:"easeOutExpo",duration:800});b=window.innerHeight-80;var q=window.innerWidth-80;anime({targets:"#topright",opacity:[0,.5],height:b,easing:"easeInOutQuad",
duration:"1000"});anime({targets:"#topleft",opacity:[0,.5],width:q,easing:"easeInOutQuad",duration:"1000"});anime({targets:"#bottomright",opacity:[0,.5],height:b,y:1E3-b,easing:"easeInOutQuad",duration:"1000"});anime({targets:"#bottomleft",opacity:[0,.5],width:q,x:2E3-q,easing:"easeInOutQuad",duration:"1000"});for(b={$jscomp$loop$prop$x$16:0};b.$jscomp$loop$prop$x$16<d.length;b={$jscomp$loop$prop$iconId$9:b.$jscomp$loop$prop$iconId$9,$jscomp$loop$prop$order$17:b.$jscomp$loop$prop$order$17,$jscomp$loop$prop$x$16:b.$jscomp$loop$prop$x$16},
b.$jscomp$loop$prop$x$16++)b.$jscomp$loop$prop$iconId$9=d[b.$jscomp$loop$prop$x$16].getAttribute("id").split("--")[0],b.$jscomp$loop$prop$order$17=d[b.$jscomp$loop$prop$x$16].getAttribute("order"),b.$jscomp$loop$prop$order$17&&(g[b.$jscomp$loop$prop$x$16].classList.remove("invis"),g[b.$jscomp$loop$prop$x$16].setAttribute("material","src: assets/question.png"),g[b.$jscomp$loop$prop$x$16].setAttribute("visible","true"),d[b.$jscomp$loop$prop$x$16].addEventListener("click",function(c){return function l(){if(state){var p=
document.getElementById(c.$jscomp$loop$prop$iconId$9.concat("--open-icon"));if(a==c.$jscomp$loop$prop$order$17){var n=new Audio("assets/positive.mp3");n.play();p.setAttribute("material","src: assets/correct.png");setTimeout(function(){p.setAttribute("material","src: assets/question".concat(c.$jscomp$loop$prop$order$17,".png"))},1E3);d[c.$jscomp$loop$prop$x$16].removeEventListener("click",l);a++}else n=new Audio("assets/negative.mp3"),n.play(),p.setAttribute("material","src: assets/false.png"),setTimeout(function(){p.setAttribute("material",
"src: assets/question.png")},1E3);d.length<a&&assestMode()}else for(n=0;n<d.length;n++)d[n].removeEventListener("click",l)}}(b)),h[b.$jscomp$loop$prop$x$16].addEventListener("click",function(c){return function l(){$(d[c.$jscomp$loop$prop$x$16]).click();a==c.$jscomp$loop$prop$order$17&&h[c.$jscomp$loop$prop$x$16].removeEventListener("click",l)}}(b)),k[b.$jscomp$loop$prop$x$16].addEventListener("click",function(c){return function l(){$(h[c.$jscomp$loop$prop$x$16]).click();a==c.$jscomp$loop$prop$order$17&&
k[c.$jscomp$loop$prop$x$16].removeEventListener("click",l)}}(b)),f[b.$jscomp$loop$prop$x$16].addEventListener("click",function(c){return function l(){$(k[c.$jscomp$loop$prop$x$16]).click();a==c.$jscomp$loop$prop$order$17&&f[c.$jscomp$loop$prop$x$16].removeEventListener("click",l)}}(b)));e&&$(e).remove();state=!0}}
AFRAME.registerComponent("hotspots",{init:function(){this.el.addEventListener("reloadspots",function(a){document.getElementById(a.detail.currspots).setAttribute("visible","false");document.getElementById(a.detail.newspots).setAttribute("visible","true")})}});
AFRAME.registerComponent("spot",{schema:{linkto:{type:"string","default":""},spotgroup:{type:"string","default":""},nameLink:{type:"string","default":""}},init:function(){this.el.setAttribute("src","#arrow");this.el.setAttribute("transparent");this.el.setAttribute("geometry",{primitive:"circle",radius:"0.6"});this.el.setAttribute("material",{color:"white"});var a=this.data,e=document.createElement("a-text"),d=document.createElement("a-rounded"),g=this.el.getAttribute("rotation");e.setAttribute("rotation",
{x:g.x,y:180,z:0});0==g.x?e.setAttribute("position","0 0.75 -0.10"):e.setAttribute("position","0 0.6 -0.10");d.setAttribute("rotation",{x:g.x,y:180,z:0});d.setAttribute("position","0.75 0.65 0");d.setAttribute("rounded","height: 0.35; width: 1.5; color: #ffffff");d.setAttribute("material","shader: flat;");e.setAttribute("text",{value:a.nameLink,align:"center",font:"assets/raleway.json",shader:"msdf",baseline:"top",color:"#456ab7"});e.setAttribute("visible","false");d.setAttribute("visible","false");
this.el.appendChild(e);this.el.appendChild(d);this.el.addEventListener("mouseenter",function(){e.setAttribute("visible","true");d.setAttribute("visible","true");$(".a-canvas.a-grab-cursor:hover").css("cursor","pointer")});this.el.addEventListener("mouseleave",function(){e.setAttribute("visible","false");d.setAttribute("visible","false");$(".a-canvas.a-grab-cursor:hover").css("cursor","grab")});document.getElementsByClassName("a-canvas")[0].addEventListener("mousedown",function(){$(".a-canvas.a-grab-cursor:hover").css("cursor",
"grabbing")});document.getElementsByClassName("a-canvas")[0].addEventListener("mouseup",function(){$(".a-canvas.a-grab-cursor:hover").css("cursor","grab")});this.el.addEventListener("click",function(){checkCamera(a.linkto);document.getElementById("skybox").setAttribute("src",a.linkto);var h=document.getElementById("spots"),k=this.parentElement.getAttribute("id");h.emit("reloadspots",{newspots:a.spotgroup,currspots:k})})}});