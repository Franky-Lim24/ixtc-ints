(function(D){function p(a){if(y[a])return y[a].exports;var c=y[a]={i:a,l:!1,exports:{}};D[a].call(c.exports,c,c.exports,p);c.l=!0;return c.exports}var y={};p.m=D;p.c=y;p.i=function(a){return a};p.d=function(a,c,d){p.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})};p.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};p.d(c,"a",c);return c};p.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};p.p="";return p(p.s=0)})([function(D,
p,y){if("undefined"===typeof AFRAME)throw Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("dialog-question",{schema:{question:{type:"string","default":"Enter Question"},questionColor:{type:"string","default":"black"},questionFont:{type:"string","default":"assets/ralewaybold.json"},questionWrapCount:{type:"number","default":30},answer:{type:"string","default":"Enter Answers"},answerColor:{type:"string","default":"black"},answerFont:{type:"string","default":"assets/raleway.json"},
answerWrapCount:{type:"number","default":30},openOn:{type:"string","default":"click"},active:{type:"boolean","default":!0},openIconImage:{type:"asset","default":"assets/mcq1.png"},openIconRadius:{type:"number","default":.3},openIconColor:{type:"string","default":"white"},closeIconImage:{type:"asset","default":"assets/close.jpg"},closeIconRadius:{type:"number","default":.3},closeIconColor:{type:"string","default":"white"},dialogBoxWidth:{type:"number","default":4},dialogBoxHeight:{type:"number","default":2.5},
dialogBoxColor:{type:"string","default":"white"},dialogBoxPadding:{type:"number","default":.2}},multiple:!0,dialogPlaneEl:null,openIconEl:null,closeIconEl:null,titleEl:null,bodyEl:null,init:function(){this.cameraEl=document.querySelector("[camera]");this.spawnEntities();this.el.emit("loaded")},tick:function(){this.isOpen&&this.positionDialogPlane()},remove:function(){var a=this.data.openOn;this.openIconEl.removeEventListener(a,this.toggleDialogOpen.bind(this));this.closeIconEl.removeEventListener(a,
this.toggleDialogOpen.bind(this))},generateOpenIcon:function(){var a=this.data,c=a.openIconRadius,d=a.openIconColor;a=a.openIconImage;var n=this.el.getAttribute("id"),l=document.createElement("a-entity");l.setAttribute("id","".concat(this.el.getAttribute("id"),"--open-icon"));l.setAttribute("position",Object.assign({},this.el.getAttribute("position")));l.setAttribute("geometry",{primitive:"circle",radius:c});l.setAttribute("material",{color:d,src:a,shader:"flat"});l.setAttribute("look-at","#cam");
$(window).on("load",function(){l.addEventListener("mouseenter",function(){document.getElementById("".concat(n,"--open-icon")).setAttribute("visible","false");document.getElementById("".concat(n,"--dialog-plane")).setAttribute("visible","true")})});return this.openIconEl=l},generateCloseIcon:function(){var a=this.data,c=a.closeIconRadius,d=a.closeIconColor,n=a.closeIconImage,l=a.dialogBoxWidth,u=a.dialogBoxHeight;a=a.openOn;var g=document.createElement("a-entity");g.setAttribute("id","".concat(this.el.getAttribute("id"),
"--close-icon"));g.setAttribute("position",{x:l/2,y:u/2,z:.01});g.setAttribute("geometry",{primitive:"circle",radius:c});g.setAttribute("material",{color:d,src:n});g.addEventListener(a,this.toggleDialogOpen.bind(this));return this.closeIconEl=g},generateTitle:function(){var a=this.data,c=a.question,d=a.questionColor,n=a.questionFont,l=a.questionWrapCount,u=a.dialogBoxWidth;a=a.dialogBoxPadding;var g=this.titleEl||document.createElement("a-entity");g.setAttribute("id","".concat(this.el.getAttribute("id"),
"--title"));g.setAttribute("text",{value:c,color:d,font:n,wrapCount:l,width:u-2*a,baseline:"center",anchor:"center",shader:"msdf"});g.setAttribute("position",{x:0,y:.75,z:.01});return this.titleEl=g},generateBody:function(){var a=this.data,c=a.answer,d=a.answerColor,n=a.answerFont,l=a.answerWrapCount,u=a.dialogBoxWidth,g=a.dialogBoxHeight;a=a.dialogBoxPadding;this.bodyEl="";var w=document.createElement("a-entity");w.setAttribute("text",{value:"*there are multiple answers for this question",color:"gray",
wrapCount:"34.81",width:"auto",height:"auto",anchor:"right",shader:"msdf"});g=g/2-3*a+.1;w.setAttribute("position",{x:"0.21",y:"0.8",z:"0.001"});w.setAttribute("scale","2 2 0.001");var A=null;c=c.split("()");var f=[],q=this.el.getAttribute("id"),m=document.createElement("a-entity");m.setAttribute("id","btnSubmit");m.setAttribute("position",{x:"1.3",y:-g-a-.3,z:"0.01"});m.setAttribute("text",{value:"Submit",color:"black",font:n,wrapCount:"6",width:"auto",height:"auto",baseline:"bottom",anchor:"center",
xOffset:"0.070",yOffset:"1",zOffset:"0.001",shader:"msdf"});m.setAttribute("geometry",{primitive:"plane",width:"auto",height:"0.419"});m.setAttribute("material","color: #0FFFFF; shader: flat; visible: false; ");for(var v=[],B=[],x=0,C=0,E=0,b=0;b<c.length;b++)"/"==c[b][0]&&x++;m.addEventListener("mouseenter",function F(){document.querySelector(".removeEvent")?m.removeEventListener("mouseenter",F):$(".a-canvas.a-grab-cursor:hover").css("cursor","pointer")});m.addEventListener("mouseleave",function G(){document.querySelector(".removeEvent")?
m.removeEventListener("mouseleave",G):$(".a-canvas.a-grab-cursor:hover").css("cursor","grab")});m.addEventListener("click",function k(){if(null!=A){m.classList.add("removeEvent");m.removeEventListener("click",k);for(var r=document.querySelectorAll(".selectedAns".concat(q)),h=document.querySelectorAll(".answers".concat(q)),e=0;e<h.length;e++)$(h[e]).off();h=document.querySelector("#".concat(q.concat("--open-icon")));e=document.querySelectorAll("#feedbackAns".concat(q));for(var t=0;t<e.length;t++)e[t].setAttribute("visible",
"true");if(A){for(e=0;e<r.length;e++)r[e].setAttribute("text","color: lime");m.setAttribute("text",{value:"Correct",color:"lime",font:n,align:"center",shader:"msdf",wrapCount:"7"});h.setAttribute("material",{color:"white",src:"assets/correct.png"});r=new Audio("assets/positive.mp3")}else{for(e=0;e<r.length;e++)r[e].setAttribute("text","color: red");m.setAttribute("text",{value:"False",color:"red",align:"center",wrapCount:"7",font:n,shader:"msdf"});h.setAttribute("material",{color:"white",src:"assets/false.png"});
r=new Audio("assets/negative.mp3")}r.play()}});for(b={$jscomp$loop$prop$counter$3$8:0};b.$jscomp$loop$prop$counter$3$8<c.length;b={$jscomp$loop$prop$counter$3$8:b.$jscomp$loop$prop$counter$3$8,$jscomp$loop$prop$colorChanger$6:b.$jscomp$loop$prop$colorChanger$6},b.$jscomp$loop$prop$counter$3$8++){f[b.$jscomp$loop$prop$counter$3$8]=document.createElement("a-entity");f[b.$jscomp$loop$prop$counter$3$8].setAttribute("id","answers".concat(b.$jscomp$loop$prop$counter$3$8));f[b.$jscomp$loop$prop$counter$3$8].setAttribute("class",
"answers".concat(q));b.$jscomp$loop$prop$colorChanger$6=!1;"/"==c[b.$jscomp$loop$prop$counter$3$8][0]&&(c[b.$jscomp$loop$prop$counter$3$8]=c[b.$jscomp$loop$prop$counter$3$8].substring(1),b.$jscomp$loop$prop$colorChanger$6=!0);var z=u-2*a;f[b.$jscomp$loop$prop$counter$3$8].classList.add("allAns".concat(q));f[b.$jscomp$loop$prop$counter$3$8].setAttribute("text",{value:c[b.$jscomp$loop$prop$counter$3$8],color:d,font:n,wrapCount:l,width:z,baseline:"top",anchor:"center",xOffset:"0.070",yOffset:"1",zOffset:"0.001",
shader:"msdf"});f[b.$jscomp$loop$prop$counter$3$8].setAttribute("geometry",{primitive:"plane",width:z,height:"auto"});f[b.$jscomp$loop$prop$counter$3$8].setAttribute("material","color: #000000; shader: flat; visible: false;");B[b.$jscomp$loop$prop$counter$3$8]=!1;$(f[b.$jscomp$loop$prop$counter$3$8]).click(function(k){return function(){for(var r=document.querySelectorAll(".selectedAns".concat(q)),h=0;h<r.length;h++)r[h].classList.remove("selectedAns".concat(q));f[k.$jscomp$loop$prop$counter$3$8].classList.add("selectedAns".concat(q));
r=document.querySelectorAll(".answers".concat(q));1<x&&(B[k.$jscomp$loop$prop$counter$3$8]?(f[k.$jscomp$loop$prop$counter$3$8].setAttribute("text","color: #000000"),k.$jscomp$loop$prop$colorChanger$6&&C--,E--,B[k.$jscomp$loop$prop$counter$3$8]=!1):(f[k.$jscomp$loop$prop$counter$3$8].setAttribute("text","color: #e5e619"),k.$jscomp$loop$prop$colorChanger$6&&C++,E++,B[k.$jscomp$loop$prop$counter$3$8]=!0),A=C==x&&E==x?!0:0==C?null:!1);if(2>x){for(h=0;h<r.length;h++)r[h].setAttribute("text","color: #000000");
A=k.$jscomp$loop$prop$colorChanger$6?!0:!1;f[k.$jscomp$loop$prop$counter$3$8].setAttribute("text","color: #e5e619")}}}(b));g-=.3;f[b.$jscomp$loop$prop$counter$3$8].addEventListener("mouseenter",function(k){return function h(){if(document.querySelector(".removeEvent"))for(var e=document.querySelectorAll(".allAns".concat(q)),t=0;t<e.length;t++)e[t].removeEventListener("mouseenter",h);else f[k.$jscomp$loop$prop$counter$3$8].setAttribute("text","font: assets/ralewaybold.json"),$(".a-canvas.a-grab-cursor:hover").css("cursor",
"pointer")}}(b));f[b.$jscomp$loop$prop$counter$3$8].addEventListener("mouseleave",function(k){return function h(){if(document.querySelector(".removeEvent"))for(var e=document.querySelectorAll(".allAns".concat(q)),t=0;t<e.length;t++)e[t].removeEventListener("mouseleave",h);else f[k.$jscomp$loop$prop$counter$3$8].setAttribute("text","font: assets/raleway.json"),$(".a-canvas.a-grab-cursor:hover").css("cursor","grab")}}(b));f[b.$jscomp$loop$prop$counter$3$8].setAttribute("position",{x:"0",y:g-.16,z:.01});
v[b.$jscomp$loop$prop$counter$3$8]=document.createElement("a-entity");v[b.$jscomp$loop$prop$counter$3$8].setAttribute("id","feedbackAns".concat(q));z=void 0;z=b.$jscomp$loop$prop$colorChanger$6?"assets/correct.png":"assets/false.png";v[b.$jscomp$loop$prop$counter$3$8].setAttribute("material",{src:z,shader:"flat"});v[b.$jscomp$loop$prop$counter$3$8].setAttribute("geometry",{primitive:"circle",radius:"0.15"});v[b.$jscomp$loop$prop$counter$3$8].setAttribute("position",{x:"1.7",y:g-.08,z:.002});v[b.$jscomp$loop$prop$counter$3$8].setAttribute("visible",
"false");this.bodyEl=f[b.$jscomp$loop$prop$counter$3$8];if(1==c.length-b.$jscomp$loop$prop$counter$3$8)return 1<x?w.setAttribute("visible","true"):w.setAttribute("visible","false"),[f,m,v,w]}},generateDialogPlane:function(){var a=this.data,c=a.dialogBoxWidth,d=a.dialogBoxHeight,n=a.dialogBoxPadding,l=a.dialogBoxColor;a=this.dialogPlaneEl||document.createElement("a-entity");var u=this.el.getAttribute("id");a.setAttribute("id","".concat(this.el.getAttribute("id"),"--dialog-plane"));a.setAttribute("position",
Object.assign({},this.el.getAttribute("position")));a.setAttribute("visible",!1);a.setAttribute("geometry",{primitive:"plane",width:c+n,height:d+n});a.setAttribute("material",{color:l,src:"assets/questionDialog.png",transparent:!0,shader:"flat",opacity:.5});c=this.generateBody();d=document.createElement("a-rounded");d.setAttribute("position","-1.95 -1.2 0.001");d.setAttribute("rounded",{color:"#ffffff",width:3.9,height:2.4});d.setAttribute("material","shader:flat;");a.appendChild(d);a.appendChild(this.generateTitle());
a.appendChild(c[3]);for(d=0;d<c[0].length;d++)a.appendChild(c[0][d]),a.appendChild(c[2][d]);a.appendChild(c[1]);document.getElementById("skybox").addEventListener("mouseenter",function(){document.getElementById("".concat(u,"--dialog-plane")).setAttribute("visible","false");document.getElementById("".concat(u,"--open-icon")).setAttribute("visible","true")});a.setAttribute("look-at","#cam");return this.dialogPlaneEl=a},positionDialogPlane:function(){if(this.dialogPlaneEl){var a=this.dialogPlaneEl.object3D.parent.worldToLocal(this.cameraEl.object3D.getWorldPosition());
this.dialogPlaneEl.object3D.lookAt(a)}},spawnEntities:function(){this.el.appendChild(this.generateOpenIcon());this.el.appendChild(this.generateDialogPlane());this.el.removeAttribute("position")}})}]);